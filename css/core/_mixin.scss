@charset "UTF-8";
//-----------------------------------------------------  
// mixin scss
//-----------------------------------------------------

$lte7:true;
// mixin
// 通过@include调用，样式通过拷贝的方式使用，尤其适用于传递参数  
//----------------------------------------
%zoom{
  @if $lte7 {
    *zoom:1;
  }
}

// inline-block
// ie6-7 *display: inline;*zoom:1;
%inline-block-wrap { letter-spacing: -5px; }
@mixin inline-block($vertical-align:top) {
  display:inline-block;letter-spacing:0;vertical-align:$vertical-align;
  @if $lte7 {
    *display: inline;*zoom:1;
  }
}
%inline-block{
  @include inline-block;
}

%vertical-align {
  position: relative;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}

// Center-align a block level element
// block得有宽度margin左右为auto才能居中
@mixin center-block {
  margin-left: auto;
  margin-right: auto;
}
%center-block{
  @include center-block;
}

// float left & right
@mixin float($float:left) {
  float: $float;
  @if $lte7 {
    display: inline;
  }
}
%float-left{
  @include float;
}
%float-right{
  @include float(right);
}

// clearfix
@mixin clearfix {
  @if $lte7 {
    *zoom: 1;
  }
  &:before,
  &:after {
    content: "";
    display: block;
    height: 0;
    visibility: hidden;
  }
  &:after {
    clear: both;
  }
}
%clearfix {
  @include clearfix;
}

// Hide from both screenreaders and browsers: h5bp.com/u
@mixin hidden {
  display: none !important;
  visibility: hidden;
}
%hidden{
  @include hidden;
}

// Hide only visually, but have it available for screenreaders
@mixin visually-hidden {
  position: absolute;
  @if $lte7 {
    clip:rect(1px 1px 1px 1px);//ie6/7
  }
  clip:rect(1px, 1px, 1px, 1px);//standard
}
%visually-hidden{
  @include visually-hidden;
}

// Hide visually and from screenreaders, but maintain layout
@mixin invisible {
  visibility: hidden;
}
%invisible{
  @include invisible;
}

// ul has list style
@mixin ul-has-style {
  margin-left:25px;
  list-style:disc;
}
%ul-has-style{
  @include ul-has-style;
}

// CSS image replacement
// 原生7,8不支持color的transparent
// 高度不能超过字体大小乘以99（line-height）
// 使用的时候请确定元素可以设置宽度或高度，即非inline元素
@mixin ir($lh:99) {
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
  line-height:99;
  overflow:hidden;
}
%ir{
  @include ir;
}

// Text overflow
// 元素可以设置宽度才可应用省略号
// $substract单位为%
%ellipsis-basic{
  overflow: hidden;
  -o-text-overflow: ellipsis;
  text-overflow: ellipsis;
  white-space: nowrap; 
}
@mixin ellipsis($substract:0) {
  @extend %ellipsis-basic;
  width:100% - $substract;
}
%ellipsis{
  @include ellipsis;
}

// 斑马线渐变
// 传入的$bgColor即为实现的斑马线背景色
@mixin gradient-striped($bgColor: #555, $angle: 45deg) {
  background-color: $bgColor;
  @include gradient-directional($angle, rgba(255,255,255,.3) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.3) 50%, rgba(255,255,255,.3) 75%, transparent 75%, transparent);
}

// Opacity
// lte8使用filter兼容
@mixin opacity($opacity:50) {
  opacity: $opacity / 100;
  @if $filter{
    filter: alpha(opacity=$opacity);
  }
}
%opacity{
  @include opacity;
}

// triangle
%triangle-basic{
  content:"";
  height: 0;
  width: 0;
}
@mixin triangle($direction, $size, $borderColor ) {
  @extend %triangle-basic;
  @if $direction == top {
    border-bottom:$size solid $borderColor;
    border-left:$size dashed transparent;
    border-right:$size dashed transparent;
  } 
  @else if $direction == right {
    border-left:$size solid $borderColor;
    border-top:$size dashed transparent;
    border-bottom:$size dashed transparent;
  } 
  @else if $direction == bottom {
    border-top:$size solid $borderColor;
    border-left:$size dashed transparent;
    border-right:$size dashed transparent;
  } 
  @else if $direction == left {
    border-right:$size solid $borderColor;
    border-top:$size dashed transparent;
    border-bottom:$size dashed transparent;
  }
}


// triangle
// 定义 @mixin content
@mixin content{
    content: "";
    display: block;
    width: 0;
    height: 0;
}
//定义%content 
%content {
    @include content;
}
//----------------------------------------
// 定义 @mixin trangile
//----------------------------------------

//1. $size定义三角大小 默认参数值30px
//2. $color定义三角颜色 默认参数值#000
//3. $bgColor定义内嵌三角颜色 默认参数值#111
//4. $direction定义三角方向 默认参数值up
//5. $inner定义三角是否内嵌 默认参数值false，表示不内嵌
//6. $transparent定义透明三角 默认参数值false，表示三角不透明

@mixin triangle-complex ($direction:up,$size:30px,$color:#000,$bgColor:#111,$inner:false,$transparent:false){
   //使用border制作三角，有可能使用伪类生成，需要调用一个伪类所需样式
    @extend %content;
   position: absolute; //其父元素需要定义为position:realtive
   //判断三角形状
   //三角形为向上up、向右right、向下down和向左left四种
   @if ($direction == up) or ($direction == right) or ($direction == down) or ($direction == left) {
    //设置边框
    border: ($size / 2) solid transparent;
     //三角朝上
     @if $direction == up { 
        //三角内嵌 $inner=true
         @if $inner {  
            border-color: $bgColor transparent transparent transparent; 
          border-bottom-width: 0;
          top: 0;
        } @else { //三角为内嵌$inner=false
          border-color:  transparent transparent $color transparent;  
          border-top-width: 0;
          bottom: 100%;
        }
        //三角为透明 $transparent = true          
        @if $transparent {
          border-color: transparent $color $color $color;
          border-top-width: $size / 2;
          border-bottom-width: 0;
        } 
    }
      //三角朝右
      @else if $direction == right {
        @if $inner {  
            border-color:  transparent $bgColor transparent transparent; 
            border-left-width: 0;
            right: 0;
        } @else {
            border-color:  transparent transparent transparent $color;  
            border-right-width: 0;
            left: 100%;
        }
        @if $transparent {
           border-color:  $color transparent $color $color;
           border-right-width: $size / 2;
           border-left-width: 0;
        }  
      }
      //三角朝下
      @else if $direction == down {
         @if $inner {  
            border-color:  transparent  transparent $bgColor transparent; 
            border-top-width: 0;
            bottom: 0;
         } @else {
            border-color: $color transparent transparent transparent;  
            border-bottom-width: 0;
            top: 100%;
         }
         @if $transparent {
            border-color:  $color $color transparent $color;
            border-bottom-width: $size / 2;
            border-top-width: 0;
         }  
      }
      //三角朝右
      @else if $direction == left {
         @if $inner {  
            border-color:  transparent transparent transparent $bgColor; 
            border-right-width: 0;
            left: 0;
         } @else {
            border-color:  transparent $color transparent transparent;  
            border-left-width: 0;
            right: 100%;
         }
                 @if $transparent {
            border-color:  $color $color $color transparent;
            border-left-width: $size / 2;
            border-right-width: 0;
         }  
       }
     }  
    //当三角为左上、右上直角三角形时     
    @else if ($direction == up-right) or ($direction == up-left) {
        border-top: $size solid $color;//顶边边框样式
        top: 100%;
        //当三角为右上直角三角形时，设置左边边框为透明
        @if $direction == up-right {
            border-left:  $size solid transparent;
            left: 0;
            //当三角为左上直角三角形时，设置右边边框为透明
            } @else if $direction == up-left {
                border-right: $size solid transparent;
                right:0;
            }
        }
        //当三角为右下、左下直角三角形时
        @else if ($direction == down-right) or ($direction == down-left) {
            border-bottom: $size solid $color;//底边边框样式
            bottom: 100%;
            //当三角为右下直角三角形时，设置左边边框为透明
            @if $direction == down-right {
                border-left:  $size solid transparent;
                left: 0;
            //当三你为左下直角三角形时，设置右边边框为透明
            } @else if $direction == down-left {
                border-right: $size solid transparent;
                right: 0;
            }
        }
}

// rem
// thanks:http://drublic.de/blog/rem-fallback-sass-less/;
@mixin rem($property, $px) {
  #{$property}: $px * $baseFontSize;
  #{$property}: #{$px}rem;
}
@mixin rem-fz($px) {
  font-size: $px * $baseFontSize;
  font-size: #{$px}rem;
}

//背景色半透明
@mixin bgcolor-alpha($bgcolor: rgba(0,0,0,.5)){
  color:#fff;
  @if $filter{
    filter:progid:DXImageTransform.Microsoft.gradient(enabled='true',startColorstr='#{ie-hex-str($bgcolor)}', endColorstr='#{ie-hex-str($bgcolor)}');
  }@else{
    background-color: #333;
  }
  background-color:$bgcolor; 
}
%bgcolor-alpha{
  @include bgcolor-alpha; 
}

// disabled
// 禁用样式，加!important
@mixin disabled($bgColor:#e6e6e6,$textColor:#ababab){
  background-color: $bgColor !important;
  color: $textColor !important;
  cursor: not-allowed !important;
}
%disabled{
  @include disabled;
}

//最小高度
@mixin min-height($height){
  min-height: $height;
  height: auto !important;
  @if $lte7{
    _height: $height;
  }
}

// 水平间隔线，适用于行列表
@mixin horizontal-line($border:1px dashed $gray,$padding:10px){
  border-bottom:$border;
  padding-top:$padding;
  padding-bottom:$padding;  
}
%horizontal-line{
  @include horizontal-line;
}

// Retina images. 
// Use with care - http://37signals.com/svn/posts/3271-easy-retina-ready-images-using-scss
@mixin image-2x($image, $width, $height) {
  @media (min--moz-device-pixel-ratio: 1.3),
         (-o-min-device-pixel-ratio: 2.6/2),
         (-webkit-min-device-pixel-ratio: 1.3),
         (min-device-pixel-ratio: 1.3),
         (min-resolution: 1.3dppx) {
    /* on retina, use image that's scaled by 2 */
    background-image: url($image);
    background-size: $width $height;
  }
}

//针对火狐的bug
@mixin firefox(){
  @-moz-document url-prefix(){
    @content;
  }
}

// 垂直渐变，渐变背景是半透明到全透明，这样就可以通过设置背景色来表现渐变
//-------------------------
// 白色，由半透明到全透明
%gradient-linear-light {
  /* IE9 SVG, needs conditional override of 'filter' to 'none' */
  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjMiLz4KICAgIDxzdG9wIG9mZnNldD0iNDYlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz4KICA8L2xpbmVhckdyYWRpZW50PgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InVybCgjZ3JhZC11Y2dnLWdlbmVyYXRlZCkiIC8+Cjwvc3ZnPg==);
  @include gradient-vertical(rgba(255,255,255,0.3),rgba(255,255,255,0) 46%);
  @if $filter{
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4dffffff', endColorstr='#00ffffff',GradientType=0 ); /* IE6-8 */
    :root &{
      @extend %reset-filter;
    }
  }
}
// 黑色，由全透明到半透明
%gradient-linear-dark {
  /* IE9 SVG, needs conditional override of 'filter' to 'none' */
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4yNSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
  @include gradient-vertical(rgba(0,0,0,0), rgba(0,0,0,0.25));
  @if $filter{
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#40000000',GradientType=0 ); /* IE6-8 */
    :root &{
       filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
    }
  }
}

//function
//-----------------------------------------------------  

// px转em
@function pxToEm($px, $base: 16) {
  @return ($px / $base) * 1em;
}

// 为颜色添加白色，以百分比形式
@function tint($color, $percent){
  @return mix(white, $color, $percent);
}

// 为颜色添加黑色，以百分比形式
@function shade($color, $percent){
  @return mix(black, $color, $percent);
}
